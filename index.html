<!DOCTYPE html>
<!-- saved from url=(0112)http://localhost:8888/voila/render/Documentation%20running%20pipelines%20for%20docker-tobeshared-automated.ipynb -->
<html style="--pericles-word-background:rgba(9, 46, 140, 0.92); --pericles-section-background:rgba(255, 254, 219, 1.54);"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Documentation running pipelines for docker-tobeshared-automated</title><script src="./Documentation running pipelines for docker-tobeshared-automated_files/require.min.js" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" crossorigin="anonymous">
  </script>
  <!-- voila log js -->
  <script>
    const _debug = console.debug;
    const _info = console.info;
    const _warn = console.warn;
    const _error = console.error;

    function post(payload) {
      try {
        window.top.postMessage(payload);
      } catch(err) {
        window.top.postMessage({ level: "debug", msg: ["[Voilà]:",
                                                       "Issue cloning object when posting log message, JSON stringify version is:",
                                                       JSON.stringify(payload)
                                                       ] });
      }
    }
    console.debug = (...args) => {
        post({ level: "debug", msg: ["[Voilà]:", ...args] });
        _debug(...args);
    };

    console.info = console.info = (...args) => {
        post({ level: "info", msg: ["[Voilà]:", ...args] });
        _info(...args);
    };

    console.warn = (...args) => {
        post({ level: "warn", msg: ["[Voilà]:", ...args] });
        _warn(...args);
    };

    console.error = (...args) => {
        post({ level: "error", msg: ["[Voilà]:", ...args] });
        _error(...args);
    };
  </script>






<style type="text/css">
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: var(--jp-cell-editor-active-background) }
.highlight { background: var(--jp-cell-editor-background); color: var(--jp-mirror-editor-variable-color) }
.highlight .c { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment */
.highlight .err { color: var(--jp-mirror-editor-error-color) } /* Error */
.highlight .k { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword */
.highlight .o { color: var(--jp-mirror-editor-operator-color); font-weight: bold } /* Operator */
.highlight .p { color: var(--jp-mirror-editor-punctuation-color) } /* Punctuation */
.highlight .ch { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Multiline */
.highlight .cp { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Single */
.highlight .cs { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Special */
.highlight .kc { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Type */
.highlight .m { color: var(--jp-mirror-editor-number-color) } /* Literal.Number */
.highlight .s { color: var(--jp-mirror-editor-string-color) } /* Literal.String */
.highlight .ow { color: var(--jp-mirror-editor-operator-color); font-weight: bold } /* Operator.Word */
.highlight .w { color: var(--jp-mirror-editor-variable-color) } /* Text.Whitespace */
.highlight .mb { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Bin */
.highlight .mf { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Float */
.highlight .mh { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Hex */
.highlight .mi { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Integer */
.highlight .mo { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Oct */
.highlight .sa { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Affix */
.highlight .sb { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Backtick */
.highlight .sc { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Char */
.highlight .dl { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Delimiter */
.highlight .sd { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Doc */
.highlight .s2 { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Double */
.highlight .se { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Escape */
.highlight .sh { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Heredoc */
.highlight .si { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Interpol */
.highlight .sx { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Other */
.highlight .sr { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Regex */
.highlight .s1 { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Single */
.highlight .ss { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Symbol */
.highlight .il { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Integer.Long */
  </style>



<link rel="stylesheet" type="text/css" href="./Documentation running pipelines for docker-tobeshared-automated_files/index.css">

    <link rel="stylesheet" type="text/css" href="./Documentation running pipelines for docker-tobeshared-automated_files/theme-light.css">

<style type="text/css">
/* Force rendering true colors when outputing to pdf */
* {
  -webkit-print-color-adjust: exact;
}

/* Misc */
a.anchor-link {
  display: none;
}

.highlight  {
  margin: 0.4em;
}

/* Input area styling */
.jp-InputArea {
  overflow: hidden;
}

.jp-InputArea-editor {
  overflow: hidden;
}

.CodeMirror pre {
  margin: 0;
  padding: 0;
}

/* Using table instead of flexbox so that we can use break-inside property */
/* CSS rules under this comment should not be required anymore after we move to the JupyterLab 4.0 CSS */


.jp-CodeCell.jp-mod-outputsScrolled .jp-OutputArea-prompt {
  min-width: calc(
    var(--jp-cell-prompt-width) - var(--jp-private-cell-scrolling-output-offset)
  );
}

.jp-OutputArea-child {
  display: table;
  width: 100%;
}

.jp-OutputPrompt {
  display: table-cell;
  vertical-align: top;
  min-width: var(--jp-cell-prompt-width);
}

body[data-format='mobile'] .jp-OutputPrompt {
  display: table-row;
}

.jp-OutputArea-output {
  display: table-cell;
  width: 100%;
}

body[data-format='mobile'] .jp-OutputArea-child .jp-OutputArea-output {
  display: table-row;
}

.jp-OutputArea-output.jp-OutputArea-executeResult {
  width: 100%;
}

/* Hiding the collapser by default */
.jp-Collapser {
  display: none;
}

@media print {
  .jp-Cell-inputWrapper,
  .jp-Cell-outputWrapper {
    display: block;
  }

  .jp-OutputArea-child {
    break-inside: avoid-page;
  }
}
</style>

<!-- Load mathjax -->
    <script type="text/javascript" async="" src="./Documentation running pipelines for docker-tobeshared-automated_files/MathJax.js"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config;executed=true">
    init_mathjax = function() {
        if (window.MathJax) {
        // MathJax loaded
            MathJax.Hub.Config({
                TeX: {
                    equationNumbers: {
                    autoNumber: "AMS",
                    useLabelIds: true
                    }
                },
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true,
                    processEnvironments: true
                },
                displayAlign: 'center',
                CommonHTML: {
                    linebreaks: { 
                    automatic: true 
                    }
                }
            });
        
            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }
    }
    init_mathjax();
    </script>
    <!-- End of mathjax configuration --><link rel="stylesheet" href="./Documentation running pipelines for docker-tobeshared-automated_files/all.min.css" type="text/css">
<link rel="stylesheet" href="./Documentation running pipelines for docker-tobeshared-automated_files/v4-shims.min.css" type="text/css">


  <!-- voila spinner -->
  <style>
    #loading {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 75vh;
        color: var(--jp-content-font-color1);
        font-family: sans-serif;
    }

    .spinner {
      animation: rotation 2s infinite linear;
      transform-origin: 50% 50%;
    }

    .spinner-container {
      width: 10%;
    }

    @keyframes rotation {
      from {transform: rotate(0deg);}
      to   {transform: rotate(359deg);}
    }

    .voila-spinner-color1{
      fill:#268380;
    }

    .voila-spinner-color2{
      fill:#f8e14b;
    }
  </style>

  <style>
    /*Hide empty cells*/
    .jp-mod-noOutputs.jp-mod-noInput {
      display: none;
    }
  </style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="/voila/templates/lab/static/main.js?v=07cc494763c3dcb3b604da7aa291ed361b8b163d9cb33c4bc3a66304c18e1dc5bfcf8c6101b6b6426ab36762a01a8568e9f3bf0c7ba6588cd61eab538b95e34a" src="./Documentation running pipelines for docker-tobeshared-automated_files/main.js"></script><style>._pericles_action_prev,
._pericles_action_next,
._pericles_action_play,
._pericles_action_stop,
._pericles_action_pause {
  cursor: pointer;
  font-size: 19px;
}

._pericles_action_prev:hover,
._pericles_action_next:hover,
._pericles_action_play:hover,
._pericles_action_stop:hover,
._pericles_action_pause:hover {
  font-size: 20px;
}

._pericles_action_prev:active,
._pericles_action_next:active,
._pericles_action_play:active,
._pericles_action_stop:active,
._pericles_action_pause:active {
  font-size: 19px;
}

img._pericles_action_icon {
  display: inline-block !important;
  width: 24px !important;
  height: 24px !important;
  margin: 0 !important;
  padding: 0 !important;
  vertical-align: top !important;
  opacity: 0.9 !important;
}

img._pericles_action_icon:hover {
  opacity: 1 !important;
}

ps-section,
ps-word {
  display: inline;
  margin: 0;
  padding: 0;
}

ps-word[data-audio-index]:hover {
  background: #ccc;
  cursor: crosshair;
}

ps-section {
  position: relative;
  cursor: pointer;
}

ps-section:hover {
  background: var(--pericles-section-background);
}

._pericles_action_container {
  border-radius: 4px;
  width: 50px;
  /* width: 74px; */
  height: 26px;
  /* background: linear-gradient(180deg, #ccc, transparent); */
  background: #eee;
  line-height: 32px;
  transition: opacity 0.55s ease-in-out;
  -moz-transition: opacity 0.55s ease-in-out;
  -webkit-transition: opacity 0.55s ease-in-out;
}

._pericles_inspector {
  border: 1px solid #000;
  background-color: rgba(102, 136, 253, 0.2) !important;
  color: #000 !important;
  /* opacity: 0.6; */
}

@keyframes _periclesFadeOut {
  0% {
    background: #ccc;
    color: #000;
  }

  100% {
    background: transparent;
    color: inherit;
  }
}
._pericles_word_tracker_style_fade,
._pericles_prev_word_tracker_style_fade {
  border-radius: 2px;
  text-shadow: none;
}

._pericles_prev_word_tracker_style_fade {
  background: transparent;
  animation: _periclesFadeOut 2s ease-out;
  color: inherit;
}

rect._pericles_section_highlight_style_background {
  fill: var(--pericles-section-background);
  opacity: 0.4;
}

._pericles_section_highlight_style_background {
  background: var(--pericles-section-background);
}

._pericles_section_highlight_style_border {
  border: 1px solid var(--pericles-section-background);
}

rect._pericles_section_highlight_style_border {
  stroke: var(--pericles-section-background);
}

._pericles_word_tracker_style_background {
  background: var(--pericles-word-background);
}

._pericles_word_tracker_style_underline {
  border-top: 1px solid var(--pericles-word-background);
  border-bottom: 1px solid var(--pericles-word-background);
}

._pericles_word_tracker_style_fade {
  background: var(--pericles-word-background);
  color: #fff;
}
</style><style type="text/css">.mjx-chtml {display: inline-block; line-height: 0; text-indent: 0; text-align: left; text-transform: none; font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; letter-spacing: normal; word-wrap: normal; word-spacing: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; margin: 0; padding: 1px 0}
.MJXc-display {display: block; text-align: center; margin: 1em 0; padding: 0}
.mjx-chtml[tabindex]:focus, body :focus .mjx-chtml[tabindex] {display: inline-table}
.mjx-full-width {text-align: center; display: table-cell!important; width: 10000em}
.mjx-math {display: inline-block; border-collapse: separate; border-spacing: 0}
.mjx-math * {display: inline-block; -webkit-box-sizing: content-box!important; -moz-box-sizing: content-box!important; box-sizing: content-box!important; text-align: left}
.mjx-numerator {display: block; text-align: center}
.mjx-denominator {display: block; text-align: center}
.MJXc-stacked {height: 0; position: relative}
.MJXc-stacked > * {position: absolute}
.MJXc-bevelled > * {display: inline-block}
.mjx-stack {display: inline-block}
.mjx-op {display: block}
.mjx-under {display: table-cell}
.mjx-over {display: block}
.mjx-over > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-under > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-stack > .mjx-sup {display: block}
.mjx-stack > .mjx-sub {display: block}
.mjx-prestack > .mjx-presup {display: block}
.mjx-prestack > .mjx-presub {display: block}
.mjx-delim-h > .mjx-char {display: inline-block}
.mjx-surd {vertical-align: top}
.mjx-mphantom * {visibility: hidden}
.mjx-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 2px 3px; font-style: normal; font-size: 90%}
.mjx-annotation-xml {line-height: normal}
.mjx-menclose > svg {fill: none; stroke: currentColor}
.mjx-mtr {display: table-row}
.mjx-mlabeledtr {display: table-row}
.mjx-mtd {display: table-cell; text-align: center}
.mjx-label {display: table-row}
.mjx-box {display: inline-block}
.mjx-block {display: block}
.mjx-span {display: inline}
.mjx-char {display: block; white-space: pre}
.mjx-itable {display: inline-table; width: auto}
.mjx-row {display: table-row}
.mjx-cell {display: table-cell}
.mjx-table {display: table; width: 100%}
.mjx-line {display: block; height: 0}
.mjx-strut {width: 0; padding-top: 1em}
.mjx-vsize {width: 0}
.MJXc-space1 {margin-left: .167em}
.MJXc-space2 {margin-left: .222em}
.MJXc-space3 {margin-left: .278em}
.mjx-chartest {display: block; visibility: hidden; position: absolute; top: 0; line-height: normal; font-size: 500%}
.mjx-chartest .mjx-char {display: inline}
.mjx-chartest .mjx-box {padding-top: 1000px}
.MJXc-processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MJXc-processed {display: none}
.mjx-test {font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow: hidden; height: 1px}
.mjx-test.mjx-test-display {display: table!important}
.mjx-test.mjx-test-inline {display: inline!important; margin-right: -1px}
.mjx-test.mjx-test-default {display: block!important; clear: both}
.mjx-ex-box {display: inline-block!important; position: absolute; overflow: hidden; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0; width: 1px; height: 60ex}
.mjx-test-inline .mjx-left-box {display: inline-block; width: 0; float: left}
.mjx-test-inline .mjx-right-box {display: inline-block; width: 0; float: right}
.mjx-test-display .mjx-right-box {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
#MathJax_CHTML_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.mjx-chtml .mjx-noError {line-height: 1.2; vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
.MJXc-TeX-unknown-R {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: normal; font-weight: normal}
.MJXc-TeX-unknown-I {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: italic; font-weight: normal}
.MJXc-TeX-unknown-B {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: normal; font-weight: bold}
.MJXc-TeX-unknown-BI {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: italic; font-weight: bold}
.MJXc-TeX-ams-R {font-family: MJXc-TeX-ams-R,MJXc-TeX-ams-Rw}
.MJXc-TeX-cal-B {font-family: MJXc-TeX-cal-B,MJXc-TeX-cal-Bx,MJXc-TeX-cal-Bw}
.MJXc-TeX-frak-R {font-family: MJXc-TeX-frak-R,MJXc-TeX-frak-Rw}
.MJXc-TeX-frak-B {font-family: MJXc-TeX-frak-B,MJXc-TeX-frak-Bx,MJXc-TeX-frak-Bw}
.MJXc-TeX-math-BI {font-family: MJXc-TeX-math-BI,MJXc-TeX-math-BIx,MJXc-TeX-math-BIw}
.MJXc-TeX-sans-R {font-family: MJXc-TeX-sans-R,MJXc-TeX-sans-Rw}
.MJXc-TeX-sans-B {font-family: MJXc-TeX-sans-B,MJXc-TeX-sans-Bx,MJXc-TeX-sans-Bw}
.MJXc-TeX-sans-I {font-family: MJXc-TeX-sans-I,MJXc-TeX-sans-Ix,MJXc-TeX-sans-Iw}
.MJXc-TeX-script-R {font-family: MJXc-TeX-script-R,MJXc-TeX-script-Rw}
.MJXc-TeX-type-R {font-family: MJXc-TeX-type-R,MJXc-TeX-type-Rw}
.MJXc-TeX-cal-R {font-family: MJXc-TeX-cal-R,MJXc-TeX-cal-Rw}
.MJXc-TeX-main-B {font-family: MJXc-TeX-main-B,MJXc-TeX-main-Bx,MJXc-TeX-main-Bw}
.MJXc-TeX-main-I {font-family: MJXc-TeX-main-I,MJXc-TeX-main-Ix,MJXc-TeX-main-Iw}
.MJXc-TeX-main-R {font-family: MJXc-TeX-main-R,MJXc-TeX-main-Rw}
.MJXc-TeX-math-I {font-family: MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw}
.MJXc-TeX-size1-R {font-family: MJXc-TeX-size1-R,MJXc-TeX-size1-Rw}
.MJXc-TeX-size2-R {font-family: MJXc-TeX-size2-R,MJXc-TeX-size2-Rw}
.MJXc-TeX-size3-R {font-family: MJXc-TeX-size3-R,MJXc-TeX-size3-Rw}
.MJXc-TeX-size4-R {font-family: MJXc-TeX-size4-R,MJXc-TeX-size4-Rw}
.MJXc-TeX-vec-R {font-family: MJXc-TeX-vec-R,MJXc-TeX-vec-Rw}
.MJXc-TeX-vec-B {font-family: MJXc-TeX-vec-B,MJXc-TeX-vec-Bx,MJXc-TeX-vec-Bw}
@font-face {font-family: MJXc-TeX-ams-R; src: local('MathJax_AMS'), local('MathJax_AMS-Regular')}
@font-face {font-family: MJXc-TeX-ams-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_AMS-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-B; src: local('MathJax_Caligraphic Bold'), local('MathJax_Caligraphic-Bold')}
@font-face {font-family: MJXc-TeX-cal-Bx; src: local('MathJax_Caligraphic'); font-weight: bold}
@font-face {font-family: MJXc-TeX-cal-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-R; src: local('MathJax_Fraktur'), local('MathJax_Fraktur-Regular')}
@font-face {font-family: MJXc-TeX-frak-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-B; src: local('MathJax_Fraktur Bold'), local('MathJax_Fraktur-Bold')}
@font-face {font-family: MJXc-TeX-frak-Bx; src: local('MathJax_Fraktur'); font-weight: bold}
@font-face {font-family: MJXc-TeX-frak-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-BI; src: local('MathJax_Math BoldItalic'), local('MathJax_Math-BoldItalic')}
@font-face {font-family: MJXc-TeX-math-BIx; src: local('MathJax_Math'); font-weight: bold; font-style: italic}
@font-face {font-family: MJXc-TeX-math-BIw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Math-BoldItalic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Math-BoldItalic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Math-BoldItalic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-R; src: local('MathJax_SansSerif'), local('MathJax_SansSerif-Regular')}
@font-face {font-family: MJXc-TeX-sans-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-B; src: local('MathJax_SansSerif Bold'), local('MathJax_SansSerif-Bold')}
@font-face {font-family: MJXc-TeX-sans-Bx; src: local('MathJax_SansSerif'); font-weight: bold}
@font-face {font-family: MJXc-TeX-sans-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-I; src: local('MathJax_SansSerif Italic'), local('MathJax_SansSerif-Italic')}
@font-face {font-family: MJXc-TeX-sans-Ix; src: local('MathJax_SansSerif'); font-style: italic}
@font-face {font-family: MJXc-TeX-sans-Iw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Italic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Italic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-script-R; src: local('MathJax_Script'), local('MathJax_Script-Regular')}
@font-face {font-family: MJXc-TeX-script-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Script-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Script-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-type-R; src: local('MathJax_Typewriter'), local('MathJax_Typewriter-Regular')}
@font-face {font-family: MJXc-TeX-type-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Typewriter-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Typewriter-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Typewriter-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-R; src: local('MathJax_Caligraphic'), local('MathJax_Caligraphic-Regular')}
@font-face {font-family: MJXc-TeX-cal-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-B; src: local('MathJax_Main Bold'), local('MathJax_Main-Bold')}
@font-face {font-family: MJXc-TeX-main-Bx; src: local('MathJax_Main'); font-weight: bold}
@font-face {font-family: MJXc-TeX-main-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Main-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-I; src: local('MathJax_Main Italic'), local('MathJax_Main-Italic')}
@font-face {font-family: MJXc-TeX-main-Ix; src: local('MathJax_Main'); font-style: italic}
@font-face {font-family: MJXc-TeX-main-Iw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Main-Italic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-R; src: local('MathJax_Main'), local('MathJax_Main-Regular')}
@font-face {font-family: MJXc-TeX-main-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-I; src: local('MathJax_Math Italic'), local('MathJax_Math-Italic')}
@font-face {font-family: MJXc-TeX-math-Ix; src: local('MathJax_Math'); font-style: italic}
@font-face {font-family: MJXc-TeX-math-Iw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size1-R; src: local('MathJax_Size1'), local('MathJax_Size1-Regular')}
@font-face {font-family: MJXc-TeX-size1-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Size1-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size2-R; src: local('MathJax_Size2'), local('MathJax_Size2-Regular')}
@font-face {font-family: MJXc-TeX-size2-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Size2-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size3-R; src: local('MathJax_Size3'), local('MathJax_Size3-Regular')}
@font-face {font-family: MJXc-TeX-size3-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Size3-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size4-R; src: local('MathJax_Size4'), local('MathJax_Size4-Regular')}
@font-face {font-family: MJXc-TeX-size4-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Size4-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-vec-R; src: local('MathJax_Vector'), local('MathJax_Vector-Regular')}
@font-face {font-family: MJXc-TeX-vec-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-vec-B; src: local('MathJax_Vector Bold'), local('MathJax_Vector-Bold')}
@font-face {font-family: MJXc-TeX-vec-Bx; src: local('MathJax_Vector'); font-weight: bold}
@font-face {font-family: MJXc-TeX-vec-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Bold.otf') format('opentype')}
</style></head>
<body class="jp-Notebook theme-light" data-base-url="/voila/" data-jp-theme-light="true" data-jp-theme-name="JupyterLab Light" data-new-gr-c-s-check-loaded="14.1179.0" data-gr-ext-installed=""><div id="MathJax_Message" style="display: none;"></div>


  

<script>
var voila_process = function(cell_index, cell_count) {
  var el = document.getElementById("loading_text");
  el.innerHTML = `Executing ${cell_index} of ${cell_count}`;
}
var voila_heartbeat = function() {
  console.log('Ok, voila is still executing...');
}
</script>
<div id="rendered_cells" style=""><script id="jupyter-config-data" type="application/json">
    {
        "baseUrl": "/",
        "kernelId": "d772d5ff-5597-42b6-baba-729e163f6605"
    }
    </script>
    
    <script>
        voila_process(1, 6)
      </script>
        
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p></p><h1 style="text-align: center; color: #800000; font-family: Lato;">Steps for generating VLASS catalogs (using Docker image)
</h1>
To create VLASS catalogs, the following pipelines need to be executed sequentially.<p></p>
<ol>
<li><p><strong>Pipeline 1</strong>: This pipeline is responsible for downloading Very Large Array Sky Survey (VLASS) images from the National Radio Astronomy Observatory (NRAO) website. It then carries out source extraction on these images using PyBDSF to create a basic component catalog and a subtile catalog, typically containing about 3 million components and 35,000 entries, respectively. To learn more see <a href="https://github.com/CIRADA-Tools/continuum_bdp_catalogue_generator">here.</a></p>
</li>
<li><p><strong>Pipeline 2</strong>: This pipeline's goal is to associate each VLASS radio component with its astronomical source, particularly identifying the host galaxy using unWISE data. The focus is on simple radio sources, where the radio component and the host galaxy are in the same location in the sky. The pipeline produces a host ID table and performs additional QA on both the component catalog and the subtile catalog. To learn more see <a href="https://github.com/CIRADA-Tools/vlass_cat">here.</a></p>
</li>
<li><p><strong>Pipeline 3</strong>: This pipeline employs a self-organizing map (SOM) to cluster radio components from the VLASS Component Catalog based on morphology. It enhances the component catalog by adding four new columns to the basic component catalog. To learn more see <a href="https://github.com/CIRADA-Tools/sidelobe_pipeline">here.</a></p>
</li>
<li><p><strong>Pipeline 4</strong>: This pipeline runs DRAGNhunter to identify likely doubles in VLASS and potential host candidates from AllWISE. The likelihood ratio code is then used to identify the most likely correct host for these doubles, as well as hosts for single-component sources. Where a double source has a radio core identified, in a few percent of cases the core and host identifications disagree. In such cases the core position is used to select the host over the lieklihood ratio identification.  To learn more see <a href="https://github.com/ygordon/cirada_vlass_doubles">here.</a></p>
</li>
</ol>
<p>The hardware requirements and other details for each pipeline is documented in a following table.</p>
<h3 style="text-align: center; color: #0000FF; font-family: Lato;">Final deliverables
</h3><ul style="list-style-type: none;">
  <li style="background-color: #e7e7e7; color: #700000; padding: 5px; border-radius: 5px;">1. Component catalog</li>
  <li style="background-color: #e7e7e7; color: #700000; padding: 5px; border-radius: 5px;">2. Host ID catalog</li>
  <li style="background-color: #e7e7e7; color: #700000; padding: 5px; border-radius: 5px;">3. Subtile catalog</li>
  <li style="background-color: #e7e7e7; color: #700000; padding: 5px; border-radius: 5px;">4. Double radio source catalog</li>

</ul><p>For more detailed documentation, visit <a href="https://cirada.ca/vlasscatalogueql0">https://cirada.ca/vlasscatalogueql0</a> and the <a href="https://ws.cadc-ccda.hia-iha.nrc-cnrc.gc.ca/files/vault/cirada/tutorials/CIRADA__VLASS_catalogue_documentation_2023_june.pdf">Catalog User Guide</a>.</p>
<p></p><h3 style="color: #0000FF; font-family: Lato;">Note:</h3><p></p>
<p>All these pipelines and their dependencies are already present within the docker image. VLASS survey is conducted in three epochs and imaged using two different procedures (Quick Look or QL vs Single Epoch or SE). Steps requiring user input regarding the epoch (1,2 or 3) and the type of data (QL or SE) are <span style="background-color: #FFFF00;">highlighted in yellow.</span></p><table style="width:100%; border-collapse: collapse;">
  <tbody><tr style="background-color: #f2f2f2;">
    <th style="text-align: left; padding: 10px; border: 1px solid black;">Pipeline</th>
    <th style="text-align: left; padding: 10plsx; border: 1px solid black;">Outputs</th>
    <th style="text-align: left; padding: 10px; border: 1px solid black;">Timeline</th>
    <th style="text-align: left; padding: 10px; border: 1px solid black;">Files Used</th>
    <th style="text-align: left; padding: 10px; border: 1px solid black;">Intermediate Products to Delete (Use caution: only after vetting)</th>
    <th style="text-align: left; padding: 10px; border: 1px solid black;">Hardware requirements</th>

    </tr>
  <tr>
    <td style="padding: 10px; border: 1px solid black;">1</td>
    <td style="padding: 10px; border: 1px solid black;">Two catalogs (.csv), 1) intermediate component catalog and 2) intermediate subtile catalog in "$PIPE1/data/products"</td>
    <td style="padding: 10px; border: 1px solid black;">&gt;~2 weeks</td>
    <td style="padding: 10px; border: 1px solid black;">manifest.csv (<a href="http://localhost:8888/voila/render/Documentation%20running%20pipelines%20for%20docker-tobeshared-automated.ipynb#section1">Go to Step 2</a>)</td>
    <td style="padding: 10px; border: 1px solid black;">$PIPE1/data/tiles. For SE data, DO NOT delete until after pipeline 5 </td>
    <td style="padding: 10px; border: 1px solid black;">2 TB disk space</td>  
  </tr>
  <tr>
    <td style="padding: 10px; border: 1px solid black;">2</td>
    <td style="padding: 10px; border: 1px solid black;">Four catalogs (.csv) in catalogue_output_files. Host id and subtile catalogs are final.</td>
    <td style="padding: 10px; border: 1px solid black;">1~2 weeks</td>
    <td style="padding: 10px; border: 1px solid black;">Outputs of pipeline 1 (automatically taken; no user input required)</td>
    <td style="padding: 10px; border: 1px solid black;">$PIPE2/host_table/LR_output</td>
    <td style="padding: 10px; border: 1px solid black;">Neither computationally nor disk space intensive</td>  
  </tr>
  <tr>
    <td style="padding: 10px; border: 1px solid black;">3</td>
    <td style="padding: 10px; border: 1px solid black;">Component catalog (.csv) in $PIPE3_2 with four new columns and updated Quality_flag, </td>
    <td style="padding: 10px; border: 1px solid black;">&gt;~3 weeks</td>
    <td style="padding: 10px; border: 1px solid black;">Outputs of pipeline 2 (follow the steps listed)</td>
    <td style="padding: 10px; border: 1px solid black;">$PIPE3_1/data_out/VLASS/</td>
    <td style="padding: 10px; border: 1px solid black;">First half requires ~1 TB disk space (approximate); whereas second half requires access to a GPU</td>  
  </tr>
  <tr>
    <td style="padding: 10px; border: 1px solid black;">4</td>
    <td style="padding: 10px; border: 1px solid black;"> dragns.fits, sources.fits in $PIPE4</td>
    <td style="padding: 10px; border: 1px solid black;">~1 weeks</td>
    <td style="padding: 10px; border: 1px solid black;">Outputs of pipeline 3_2 </td>
    <td style="padding: 10px; border: 1px solid black;">output_files/supplementarydata </td>
    <td style="padding: 10px; border: 1px solid black;">Neither computationally nor disk space intensive</td>  
  </tr>

  <tr>
    <td style="padding: 10px; border: 1px solid black;">SPIX (only for SE)</td>
    <td style="padding: 10px; border: 1px solid black;">Final component catalog (.csv) in $PIPE1 </td>
    <td style="padding: 10px; border: 1px solid black;">~1 weeks</td>
    <td style="padding: 10px; border: 1px solid black;">Outputs of pipeline 3_2 </td>
    <td style="padding: 10px; border: 1px solid black;"></td>
    <td style="padding: 10px; border: 1px solid black;">~4 TB disk space</td>  
  </tr>


</tbody></table><p>The procedures for accessing, installing the necessary packages, and running each pipeline are outlined below.</p>
<h2 style="text-align: center; color: #800000; font-family: Lato;">Starting Docker</h2><ol>
<li><strong>Step 1:</strong> Starting up the docker terminal in an interactive view.<div class="highlight"><pre><span></span>sudo docker run -it cont_pipe
</pre></div>
If you are on CANFAR,<div class="highlight"><pre><span></span>bash
</pre></div>
</li>
<li><strong>Step 2.</strong> Setting up the workdir. By default the workdir is set to \tmp in the docker image. However, if the user wishes to change the workdir, edit the first line of the file set_workdir.sh to point to your desired location. Run this file to copy all the files there.</li>
</ol>
<div class="highlight"><pre><span></span>vim set_workdir.sh
. ./set_workdir.sh
<span class="nb">cd</span> <span class="nv">$WORKDIR</span>
</pre></div>
<h2 style="text-align: center; color: #800000; font-family: Lato;">Pipeline 1 and 2 (Source detection)</h2><p><strong>Step 1:</strong> Setting up virtual environment</p>
<div class="highlight"><pre><span></span>conda activate myenv
</pre></div>
<p><span id="section1" style="background-color: #FFFF00;"><strong>Step 2:</strong> Getting ready to run the pipelines.</span></p>
<p>The first step is to get a file with the URLs of all VLASS fits images on which the source finding is to be done.
One can use <a href="https://github.com/CIRADA-Tools/VLASS-wrappers/blob/main/get_urls_from_nrao.py">get_urls_from_nrao.py</a> for this.
The usage is as follows.</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$PIPE1</span> 
python get_urls_from_nrao.py &lt;URL&gt; &lt;mode&gt; I
</pre></div>
<p>Here, an example for URL is <a href="https://archive-new.nrao.edu/vlass/se_continuum_imaging/VLASS2.1">https://archive-new.nrao.edu/vlass/se_continuum_imaging/VLASS2.1</a> . To find the relevant URLs visit <a href="https://archive-new.nrao.edu/vlass/quicklook/">https://archive-new.nrao.edu/vlass/quicklook/</a>.
There are two modes, 'w' for write and 'a' for append.
The two options for imagetype are alpha and I. Choose I.
The code generates an output file named "manifest.csv". In some cases where there are multiple folders, such as "VLASS2.1" and "VLASS2.2", it may be necessary to run the code a second time in "append mode". This will allow the code to add new entries to the existing "manifest.csv" file instead of overwriting it.
    Now copy the file, "manifest.csv" to the subfolder media/manifests/.</p>
<div class="highlight"><pre><span></span>cp manifest.csv media/manifests
</pre></div>
<p><strong>Step 3:</strong> Run the pipeline. Pipeline 1 is written in a modular form, and each of the steps is run in series and in the background. Run the following commands in the specified order:</p>
<div class="highlight"><pre><span></span>rm -rf data
python3 catenator.py flush <span class="c1"># pipeline cleanup utility</span>
python3 catenator.py configure <span class="c1"># This gives you 3 options test and v1. Choose pipeline_v1.yml.</span>
. ./pipe1and2.sh
</pre></div>
<p>The logs generated by the pipeline 1 can be found in the <code>data/logs</code> directory. To ensure that each step of the process has been completed successfully, it is recommended to run "<code>python3 catenator.py monitor</code>" after each step.</p>
<p>Please review the output log files to ensure that the pipeline has not terminated unexpectedly during any of the steps. It is recommended to examine the output file of each step. As an illustration, you may execute the command <code>tail -300 step1.out</code> after completing the first step.</p>
<h3 id="Pipeline-outputs"><span style="color:#006400;">Pipeline outputs</span><a class="anchor-link" href="http://localhost:8888/voila/render/Documentation%20running%20pipelines%20for%20docker-tobeshared-automated.ipynb#Pipeline-outputs">¶</a></h3><p>The pipeline 1 output catalogs (with .csv extension) will be present in the folder <code>"data/products"</code>.
Check out the final outputs of the pipeline 2 in the folder "<code>catalogue_output_files</code>".
Expected timeline: &gt;~3-4 weeks</p>
<h3 id="Outputs-vetting"><span style="color:#006400;">Outputs vetting</span><a class="anchor-link" href="http://localhost:8888/voila/render/Documentation%20running%20pipelines%20for%20docker-tobeshared-automated.ipynb#Outputs-vetting">¶</a></h3><p>The code for vetting the outputs are also present in $PIPE1, namely Vetting_pipeline1_outputs.ipynb. If you are CANFAR, navigate to /tmp/continuum_bdp_catalogue_generator under the folder structure on the left. Double click on the notebook to launch. Run and make sure the stats and plots are OK.</p>

</div>
</div>
</div>
</div><script>
        voila_process(2, 6)
      </script>
        
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h2 style="text-align: center; color: #800000; font-family: Lato;">Pipeline 3 (SOM pipeline)</h2><p><strong>Step 1:</strong> Setting up virtual environment</p>
<div class="highlight"><pre><span></span>conda deactivate
conda activate cutoutenv
</pre></div>
<p><strong>Step 2</strong> Copy the output csv file from vlass_cat folder to the current working directory.</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$PIPE3_1</span>
cp <span class="nv">$PIPE2</span>/catalogue_output_files/*_duplicate_free.csv .
</pre></div>
<p><span style="background-color: #FFFF00;">Step 3</span> Edit <code>cutout_provider_core_old/core/vlass.py</code> to select the relevant epoch by opening in any text editor. Uncomment the relevant line (lines 104 -109). e.g., <code>if ("3.1.ql" in url and "tt0" in url) or ('3.2.ql' in url and 'tt0' in url):</code></p>
<div class="highlight"><pre><span></span>vim core/vlass.py
</pre></div>
<p><span style="background-color: #FFFF00;">Step 4</span> Downloading the cutouts at source positions using cutout_provider_core. Rename the component catalog name (line 4) in the file 'splitandcreate.sh' to match the output from previous step. For example, <code>ORIGINAL_FILENAME="VLASS3QLCIR_components_duplicate_free.csv"</code></p>
<div class="highlight"><pre><span></span>vim splitandcreate.sh
. ./splitandcreate.sh
python3 fix_headers.py <span class="m">3</span>
</pre></div>
<p><strong>Step 5</strong> There are two steps and the first step can be run on the local machine, whereas the second part needs to be run on compute canada.</p>
<p>Before proceeding with the below step that generates the image binary, verify that line 360 (which goes <code>sys.exit(1)</code>) is <strong>NOT</strong> commented out. If commented, uncomment.</p>
<div class="highlight"><pre><span></span>conda deactivate
conda activate sidelobe_pipe_env
<span class="nb">cd</span> <span class="nv">$PIPE3_2</span>
vim sidelobe_pipeline.py
</pre></div>
<p><strong>Step 6</strong> Run the pipeline.</p>
<div class="highlight"><pre><span></span>. ./pipe3_2.sh
</pre></div>
<h4 id="Description-of-the-format">Description of the format<a class="anchor-link" href="http://localhost:8888/voila/render/Documentation%20running%20pipelines%20for%20docker-tobeshared-automated.ipynb#Description-of-the-format">¶</a></h4><div class="highlight"><pre><span></span>python3 sidelobe_pipeline.py &lt;catalogue&gt; &lt;outfile&gt; -p &lt;path_to_image_cutouts&gt; -s &lt;som_file&gt; -n &lt;neuron_table&gt; <span class="o">[</span>--cpu<span class="o">]</span> <span class="o">[</span>--overwrite<span class="o">]</span>
</pre></div>
<p>where the parameters mean the following</p>
<ul>
<li>catalogue: The name of the input catalogue (csv or fits).</li>
<li>outfile: The desired name for the output catalogue.</li>
<li>path_to_image_cutouts: The directory that contains all of the VLASS cutouts.</li>
<li>som_file: The name of the SOM binary file (SOM_B3_h10_w10_vlass.bin).</li>
<li>neuron_file: The name containing the information (neuron_info.csv).</li>
<li>--cpu: A Boolean flag. If set, it runs the Mapping stage in CPU mode (Warning: Slow).</li>
<li>--overwrite: A Boolean flag. If set, it overwrites the Image and Mapping binaries.<!-- instead of skipping those steps if the files already exist. --></li>
</ul>
<h3 id="Pipeline-outputs"><span style="color:#006400;">Pipeline outputs</span><a class="anchor-link" href="http://localhost:8888/voila/render/Documentation%20running%20pipelines%20for%20docker-tobeshared-automated.ipynb#Pipeline-outputs">¶</a></h3><ul>
<li>Image binary (preprocessed images)</li>
<li>Catalogue of components that failed preprocessing (fits file)</li>
<li>Catalogue of components that passed preprocessing (fits file)</li>
<li>Mapping binary</li>
<li>Transform binary</li>
<li>Final output catalogue</li>
</ul>
<p>Once the image binaries are created, copy over the <code>*.bin</code> files to <strong>Compute Canada</strong>, comment out line 360 and run again.</p>
<div class="highlight"><pre><span></span>python3 sidelobe_pipeline.py &lt;catalogue&gt; &lt;outfile&gt; -s &lt;som_file&gt; -n &lt;neuron_table&gt; <span class="o">[</span>--cpu<span class="o">]</span> <span class="o">[</span>--overwrite<span class="o">]</span>
</pre></div>
<h2 style="text-align: center; color: #800000; font-family: Lato;">Pipeline 4 (DRAGN hunter)</h2><p><strong>Step 1:</strong> Setting up virtual environment</p>
<div class="highlight"><pre><span></span>conda activate myenv
</pre></div>
<p><strong>Step 2:</strong> Run the pipelines.</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$PIPE4</span>
python hunt_dragns_and_find_host.py &lt;component_filename_after_som.csv&gt;
</pre></div>
<p>where &lt;component_filename_after_som.csv&gt; is the filename of the radio catalogue data file. The code runs perfectly fine with the component catalog as well.</p>
<p>By default this code will attempt to find redshifts for hosts it identifies. 
In some instances this step can fail, e.g. as a result of the CDS server bing down or a broken connection, etc.
In the event of this happening obtaining the redshifts can be reattempted without repeating the slow step of host finding by calling:</p>
<div class="highlight"><pre><span></span>python fetch_z.py
</pre></div>
<p>There are a number of optional arguments to this _fetch<em>z.py</em> which can be invoked (see help) but the default setup should be okay for most cases where this needs to be run. If still struggling with timeout issues, then the _--chunk<em>size</em> argument should be used to query smaller data chunks at any one time.</p>
<h3 id="Pipeline-outputs"><span style="color:#006400;">Pipeline outputs</span><a class="anchor-link" href="http://localhost:8888/voila/render/Documentation%20running%20pipelines%20for%20docker-tobeshared-automated.ipynb#Pipeline-outputs">¶</a></h3><p>The output of the code consists of a table of double sources (<em>dragns.fits</em>) with properties and host IDs, and a table of all sources (single components and doubles) with host identifications and redshifts where available. These are output to the directory _output<em>files</em>. 
A number of suplementary provide more extensive meta data and are output to in the _output_files/supplementary<em>data</em> folder.</p>

</div>
</div>
</div>
</div><script>
        voila_process(3, 6)
      </script>
        
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h2 style="text-align: center; color: #800000; font-family: Lato;">Additional pipeline for extracting spectral index images</h2><h3 id="--To-be-run-on-single-epoch-images">- To be run on single epoch images<a class="anchor-link" href="http://localhost:8888/voila/render/Documentation%20running%20pipelines%20for%20docker-tobeshared-automated.ipynb#--To-be-run-on-single-epoch-images">¶</a></h3><p>Spectral index images can now be generated with the release of single epoch data. To incorporate four additional columns into the single epoch catalog, please follow the steps outlined below. It is recommended to execute this pipeline on the component catalog after completing the preceding three pipelines.</p>
<p><strong>Step 1:</strong> Setting up virtual environment</p>
<div class="highlight"><pre><span></span>conda activate myenv
</pre></div>
<p><span id="section1" style="background-color: #FFFF00;"><strong>Step 2:</strong> Getting ready to run the pipelines.</span>
The first step is to download the spectral index and error images. Then cd into the pipeline 1 directory.</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$PIPE1</span>
</pre></div>
<p>Next we need to get a file listing all the URLs of all VLASS spectral index images and errors.
One can use <a href="https://github.com/binysebastian/get_urls_from_nrao">get_urls_from_nrao.py</a> for this.
The usage is as follows.</p>
<div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">get_urls_from_nrao</span><span class="o">.</span><span class="n">py</span> <span class="o">&lt;</span><span class="n">URL</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mode</span><span class="o">&gt;</span> <span class="n">alpha</span>
</pre></div>
<p>Back up the existing <code>manifest.csv</code> and copy the newly generated one to <code>media/manifests</code> directory.</p>
<div class="highlight"><pre><span></span>mv media/manifests/manifest.csv media/manifests/manifest_I.csv
mv manifest.csv media/manifests/
</pre></div>
<p><strong>Step 3:</strong> Download spectral index images using pipeline 1.</p>
<div class="highlight"><pre><span></span>python3 catenator.py flush <span class="c1"># pipeline cleanup utility</span>
python3 catenator.py configure <span class="c1"># This gives you 2 options test and v1. Choose 1.</span>
python3 catenator.py download <span class="c1"># This can take time depending on number of files that need to be downloaded</span>
</pre></div>
<p><strong>Step 4:</strong> Wait until download is finished and move the alpha images.</p>
<div class="highlight"><pre><span></span>mkdir <span class="nv">$PIPE1</span>/data/alpha/
mv <span class="nv">$PIPE1</span>/data/tiles/*/*alpha* <span class="nv">$PIPE1</span>/data/alpha/
</pre></div>
<p><strong>Step 5:</strong> Run add_spix.py</p>
<div class="highlight"><pre><span></span>python3 add_spix.py
</pre></div>

</div>
</div>
</div>
</div><script>
        voila_process(4, 6)
      </script>
        
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h2 style="text-align: center; color: #800000; font-family: Lato;">Automated version</h2><p>All the above steps were automated and can be run non-interactively.</p>
<ol>
<li><strong>Step 1.</strong> Setting up the workdir. By default the workdir is set to \tmp in the docker image. However, if the user wishes to change the workdir, edit the first line of the file set_workdir.sh to point to your desired location. Run this file to copy all the files there.</li>
</ol>
<div class="highlight"><pre><span></span>vim set_workdir.sh
. ./set_workdir.sh
<span class="nb">cd</span> <span class="nv">$WORKDIR</span>
</pre></div>
<ol>
<li><strong>Step 2.</strong> Now run the automate.py to generate the bash scripts that will run everything non-interactively. The python code will prompt the user to input the type of the catalog and the epochs.</li>
</ol>

<pre><code>python automate.py</code></pre>
<ol>
<li><strong>Step 3.</strong> 
The above code will generate pipe1andpipe2.sh and pipe3andpipe4.sh. We have generated two sets of bash scripts because, it is a good idea to check the outputs after pipeline 1 and 2 before proceeding to pipeline 3 and 4.</li>
</ol>
<p>These can be then be run with the following commands.</p>
<div class="highlight"><pre><span></span>. ./pipe1andpipe2.sh
<span class="nb">cd</span> <span class="nv">$WORKDIR</span>
. ./pipe3andpipe4.sh
</pre></div>

</div>
</div>
</div>
</div><script>
        voila_process(5, 6)
      </script>
        
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h3 id="TBD">TBD<a class="anchor-link" href="http://localhost:8888/voila/render/Documentation%20running%20pipelines%20for%20docker-tobeshared-automated.ipynb#TBD">¶</a></h3><p>For enabling GPUs for pipeline 4, see below.</p>
<div class="highlight"><pre><span></span>pip install skaha
</pre></div>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">skaha.session</span> <span class="kn">import</span> <span class="n">Session</span>

<span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>


<span class="n">session_id</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
<span class="n">name</span><span class="o">=</span><span class="s2">"testsom"</span><span class="p">,</span>
<span class="n">image</span><span class="o">=</span><span class="s2">"images.canfar.net/cirada/cont_pipe:v1"</span><span class="p">,</span>
<span class="n">cores</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="n">ram</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
<span class="n">kind</span><span class="o">=</span><span class="s2">"headless"</span><span class="p">,</span>
<span class="n">cmd</span><span class="o">=</span><span class="s2">"bash"</span><span class="p">,</span>
<span class="n">args</span><span class="o">=</span><span class="s2">"pipe3andpipe4.sh"</span><span class="p">,</span>
<span class="n">replicas</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="n">gpu</span><span class="o">=</span><span class="mi">1</span> <span class="c1"># try to see whether GPU is faster</span>
<span class="p">)</span>
</pre></div>

</div>
</div>
</div>
</div><script>
        voila_process(6, 6)
      </script>
        <div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs jp-mod-noInput ">

</div></div>
<script type="text/javascript">
  (function() {
    // remove the loading element
    var el = document.getElementById("loading");
    el.parentNode.removeChild(el);
    // show the cell output
    el = document.getElementById("rendered_cells");
    el.style.display = '';
  })();
</script>
<script>
  requirejs.config({ baseUrl: '/voila/', waitSeconds: 30});
  window.voila_js_url = "/voila/templates/lab/static/voila.js?v=b0064c1da663783172a625be7bf189ff946a46037abbc839717f0152577544026356a608b6e658b3b998d863748a2111f786dc284300947bd17f04c8b6bf7393";
  requirejs(["/voila/templates/lab/static/main.js?v=07cc494763c3dcb3b604da7aa291ed361b8b163d9cb33c4bc3a66304c18e1dc5bfcf8c6101b6b6426ab36762a01a8568e9f3bf0c7ba6588cd61eab538b95e34a"]);

  // Loading classic notebook extensions.
  
</script>





<iframe id="_pericles_content_iframe" style="position: absolute; top: -99px; left: 0px; width: 50px; height: 26px; background: transparent; overflow: visible; margin-top: -30px; transition: top 2s ease-in-out 0s; z-index: 2147483647; border: none; padding: 0px;" src="./Documentation running pipelines for docker-tobeshared-automated_files/saved_resource.html"></iframe><div id="speechify-global-notifications"></div><iframe id="nr-ext-rsicon" style="position: absolute; display: none; width: 50px; height: 50px; z-index: 2147483647; border-style: none; background: transparent;" src="./Documentation running pipelines for docker-tobeshared-automated_files/saved_resource(1).html"></iframe></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>
